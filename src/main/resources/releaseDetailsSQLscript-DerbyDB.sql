drop table deployment;
drop table JMS;
drop table data_source;
drop table MDS;
drop table ftp_ADAPTER;
drop table CRONJOB;
drop table partition;
drop table release_details;


CREATE TABLE release_details (RD_ID INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),release_type VARCHAR(5),ticket_number integer
,release_date DATE , release_desc VARCHAR(50),CONSTRAINT RDP_ID PRIMARY KEY (RD_ID));

create table partition(id INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),description VARCHAR (30),CONSTRAINT PART_ID PRIMARY KEY (id));



CREATE TABLE deployment (DEP_ID INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),composite_name VARCHAR(50),partition_Id INT NOT NULL,RDF_ID INT NOT NULL
,CONSTRAINT DEPP_ID PRIMARY KEY (DEP_ID),CONSTRAINT PRT_FID FOREIGN KEY (partition_Id)REFERENCES partition (id),
CONSTRAINT DRD_FID FOREIGN KEY (RDF_ID)REFERENCES release_details (RD_ID));

CREATE TABLE JMS (JMS_Id  INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),RDF_ID INT NOT NULL, JMSType VARCHAR(3),JNDIName VARCHAR(50), JMSName VARCHAR(40),
connectionFactory  VARCHAR(80),subDeployment  VARCHAR(50),CONSTRAINT JMSP_ID PRIMARY KEY (JMS_Id),
CONSTRAINT JMSRD_FID FOREIGN KEY (RDF_ID)REFERENCES release_details (RD_ID));


CREATE TABLE data_source (DS_ID  INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),RDF_ID INT NOT NULL, DSName VARCHAR(50),DSJNDI VARCHAR(50), DBHost VARCHAR(40),
DBPort  VARCHAR(20),DBServerName  VARCHAR(50),userName  VARCHAR(50),password  VARCHAR(50),CONSTRAINT DSP_Id  PRIMARY KEY (DS_Id),
CONSTRAINT DSRD_FID FOREIGN KEY (RDF_ID)REFERENCES release_details (RD_ID));

CREATE TABLE MDS (MDS_ID  INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),RDF_ID INT NOT NULL, serverLocation VARCHAR(150),target VARCHAR(100),
CONSTRAINT MDSP_Id  PRIMARY KEY (MDS_ID),
CONSTRAINT MDSRD_FID FOREIGN KEY (RDF_ID)REFERENCES release_details (RD_ID));

CREATE TABLE ftp_ADAPTER (FTPADP_ID  INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),RDF_ID INT NOT NULL, JNDI VARCHAR(30),CFI VARCHAR(50), CI VARCHAR(40),
CP  VARCHAR(20), host  VARCHAR(50),user_name  VARCHAR(50),port  VARCHAR(50),password  VARCHAR(50),sftp  VARCHAR(50),
CONSTRAINT FTPADPP_Id  PRIMARY KEY (FTPADP_ID),
CONSTRAINT FTPADPRD_FID FOREIGN KEY (RDF_ID)REFERENCES release_details (RD_ID));

	
CREATE TABLE CRONJOB(CronJob_ID  INT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),RDF_ID INT NOT NULL, description VARCHAR(300),
CONSTRAINT CJSP_Id  PRIMARY KEY (CronJob_ID),
CONSTRAINT CJRD_FID FOREIGN KEY (RDF_ID)REFERENCES release_details (RD_ID));	
	
commit;
show indexes in app;